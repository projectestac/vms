<VirtualHost *:80>
    ServerName odissea-aws.xtec.cat
    ServerAdmin webmaster@localhost

    DocumentRoot /dades/html
    <Directory /dades/html/>
        Options -Indexes +MultiViews +FollowSymLinks
        AllowOverride all
        Require all granted
    </Directory>

    ErrorLogFormat "[%{u}t] [%-m:%l] [pid %P] [client\ %a] [%{X-Forwarded-For}i] %M% ,\ referer\ %{Referer}i \"%{User-Agent}i\""
    ErrorLog ${APACHE_LOG_DIR}/error.log
    LogFormat "%h [%{X-Forwarded-For}i] %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-agent}i\"" combined
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    XSendFile on
    XSendFilePath /dades/data/odisseadata
    XSendFilePath /dades/localdata/odissea
</VirtualHost>

<VirtualHost *:443>
    ServerName odissea-aws.xtec.cat
    ServerAdmin webmaster@localhost

    DocumentRoot /dades/html
    <Directory /dades/html/>
        Options -Indexes +MultiViews +FollowSymLinks
        AllowOverride all
        Require all granted
    </Directory>

    SSLEngine on
    SSLCertificateFile  /etc/ssl/certs/ssl-cert-snakeoil.pem
    SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key

    ErrorLogFormat "[%{u}t] [%-m:%l] [pid %P] [client\ %a] [%{X-Forwarded-For}i] %M% ,\ referer\ %{Referer}i \"%{User-Agent}i\""
    ErrorLog ${APACHE_LOG_DIR}/error.log
    LogFormat "%h [%{X-Forwarded-For}i] %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-agent}i\"" combined
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    XSendFile on
    XSendFilePath /dades/data/odisseadata
    XSendFilePath /dades/localdata/odissea
</VirtualHost>
